parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"zoZo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NAME=exports.make=exports.empty=exports.EMPTY=void 0;var e="EMPTY";exports.EMPTY=e;var r=e;exports.NAME=r;var t={type:e,clock:0},o=function(){return t};exports.empty=o;var p=o;exports.make=p;
},{}],"sZVm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.chance=exports.pickRand=exports.randInt=exports.rand=void 0;var r=function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.random()*(r-n)+n};exports.rand=r;var n=function(){return Math.round(r.apply(void 0,arguments))};exports.randInt=n;var t=function(r){return r[n(r.length-1,0)]};exports.pickRand=t;var e=function(r){return Math.random()<r};exports.chance=e;
},{}],"yFRv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setColor=exports.refreshColor=exports.make=void 0;var e=require("./random"),r=["type","color"];function t(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function o(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?t(Object(o),!0).forEach(function(r){n(e,r,o[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(o,r))})}return e}function n(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function c(e,r){if(null==e)return{};var t,o,n=l(e,r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(o=0;o<c.length;o++)t=c[o],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function l(e,r){if(null==e)return{};var t,o,n={},c=Object.keys(e);for(o=0;o<c.length;o++)t=c[o],r.indexOf(t)>=0||(n[t]=e[t]);return n}var u=function(e){var t=e.type,n=e.color,l=c(e,r);return o({type:t,clock:0,colorInput:n,color:p(n)},l)};exports.make=u;var p=function(r){return"hsl(".concat(r[0],"deg ").concat(r[1],"% ").concat((0,e.randInt)(r[2],r[3]),"%)")},i=function(e,r){r.color=p(e)};exports.setColor=i;var f=function(e){e.color=p(e.colorInput)};exports.refreshColor=f;
},{"./random":"sZVm"}],"PE4O":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BASE_COLOR=exports.make=exports.NAME=void 0;var e=t(require("../element"));function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function t(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var p=a?Object.getOwnPropertyDescriptor(e,u):null;p&&(p.get||p.set)?Object.defineProperty(o,u,p):o[u]=e[u]}return o.default=e,n&&n.set(e,o),o}var n=[33,41,30,15];exports.BASE_COLOR=n;var o="WOOD";exports.NAME=o;var a=function(){return e.make({type:o,flammable:!0,color:n})};exports.make=a;
},{"../element":"yFRv"}],"oy6B":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BASE_COLOR=exports.update=exports.make=exports.NAME=void 0;var e=i(require("./water")),r=require("./empty"),t=i(require("../element")),o=require("../random");function n(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(n=function(e){return e?t:r})(e)}function i(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n(r);if(t&&t.has(e))return t.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var c=i?Object.getOwnPropertyDescriptor(e,a):null;c&&(c.get||c.set)?Object.defineProperty(o,a,c):o[a]=e[a]}return o.default=e,t&&t.set(e,o),o}var a=[4,2,79,90];exports.BASE_COLOR=a;var c="SMOKE";exports.NAME=c;var p=.015,u=.95,s=.5,f=function(){return t.make({type:c,direction:(0,o.pickRand)([1,-1]),color:a})};exports.make=f;var d=function(t,n){var i=t.get(0,-1);switch((0,o.chance)(p)&&t.set(0,0,(0,r.empty)()),i.type){case r.EMPTY:(0,o.chance)(u)?t.move(0,-1):t.is(n.direction,1,r.EMPTY)&&t.move(n.direction,-1);break;case e.NAME:t.move(0,-1)}(0,o.chance)(s)&&t.is(n.direction,0,r.EMPTY)?t.move(n.direction,0):n.direction*=-1};exports.update=d;
},{"./water":"g4jq","./empty":"zoZo","../element":"yFRv","../random":"sZVm"}],"xw16":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BASE_COLOR=exports.update=exports.make=exports.NAME=void 0;var e=require("./empty"),r=a(require("../element")),t=a(require("./fire")),i=a(require("./water")),o=require("../random");function n(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(n=function(e){return e?t:r})(e)}function a(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n(r);if(t&&t.has(e))return t.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var c=o?Object.getOwnPropertyDescriptor(e,a):null;c&&(c.get||c.set)?Object.defineProperty(i,a,c):i[a]=e[a]}return i.default=e,t&&t.set(e,i),i}var c=[25,59,41,48];exports.BASE_COLOR=c;var p="OIL";exports.NAME=p;var u=function(){return r.make({type:p,flammable:!0,direction:(0,o.pickRand)([1,-1]),color:c})};exports.make=u;var s=function(n,a){switch(n.get(0,1).type){case t.NAME:case e.EMPTY:n.move(0,1);break;case p:n.is(a.direction,1,e.EMPTY)&&n.move(a.direction,1);break;case i.NAME:n.is(a.direction,-1,i.NAME)&&n.swap(a.direction,-1)}n.is(a.direction,0,e.EMPTY)?n.move(a.direction,0):(0,o.chance)(.5)&&n.is(a.direction,0,i.NAME)?n.swap(a.direction,0):a.direction*=-1,(0,o.chance)(.005)&&r.refreshColor(a)};exports.update=s;
},{"./empty":"zoZo","../element":"yFRv","./fire":"sIHW","./water":"g4jq","../random":"sZVm"}],"jGsd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BASE_COLOR=exports.update=exports.make=exports.NAME=void 0;var e=require("./empty"),r=a(require("./water")),t=a(require("../element")),n=require("../random");function o(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(o=function(e){return e?t:r})(e)}function a(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o(r);if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(n,i,u):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function i(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=f(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){u=!0,a=e},f:function(){try{i||null==t.return||t.return()}finally{if(u)throw a}}}}function u(e,r){return s(e)||y(e,r)||f(e,r)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,r){if(e){if("string"==typeof e)return c(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(e,r):void 0}}function c(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function y(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a=[],i=!0,u=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(l){u=!0,o=l}finally{try{i||null==t.return||t.return()}finally{if(u)throw o}}return a}}function s(e){if(Array.isArray(e))return e}var p=[122,73,36,30];exports.BASE_COLOR=p;var d="PLANT";exports.NAME=d;var v=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p,o=(0,n.chance)(.1);return t.make({type:d,kind:o?"stem":"bud",flammable:!0,energy:void 0!==e?e:o?(0,n.randInt)(10,15):(0,n.randInt)(1,5),direction:[(0,n.pickRand)([1,0,-1]),-1],color:r})};exports.make=v;var b=function(t,o){var a=u(o.direction,2),l=a[0],f=a[1],c=t.is(l,f,e.EMPTY);c&&(0,n.chance)(.2)&&o.energy>0&&(o.energy--,t.set(l,f,v(o.energy)));var y,s=i(t.neighbors1);try{for(s.s();!(y=s.n()).done;){var p=u(y.value,2),d=p[0],b=p[1];(0,n.chance)(.05)&&c&&t.is(d,b,r.NAME)&&(t.set(d,b,(0,e.empty)()),t.set(l,f,v(o.energy)))}}catch(m){s.e(m)}finally{s.f()}};exports.update=b;
},{"./empty":"zoZo","./water":"g4jq","../element":"yFRv","../random":"sZVm"}],"sIHW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BASE_COLOR=exports.update=exports.make=exports.NAME=void 0;var e=require("./empty"),r=c(require("./wood")),t=c(require("./smoke")),n=c(require("./oil")),o=c(require("./plant")),a=c(require("../element")),i=require("../random");function u(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(u=function(e){return e?t:r})(e)}function c(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u(r);if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}function l(e,r){return p(e)||s(e,r)||m(e,r)||f()}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a=[],i=!0,u=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(c){u=!0,o=c}finally{try{i||null==t.return||t.return()}finally{if(u)throw o}}return a}}function p(e){if(Array.isArray(e))return e}function y(e){return b(e)||v(e)||m(e)||d()}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function b(e){if(Array.isArray(e))return A(e)}function h(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=m(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){u=!0,a=e},f:function(){try{i||null==t.return||t.return()}finally{if(u)throw a}}}}function m(e,r){if(e){if("string"==typeof e)return A(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?A(e,r):void 0}}function A(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var E="FIRE";exports.NAME=E;var M=.2,k=.73,w=.75,g=1,O=.01,S=.01,j=.06,x=[35,76,62,72],P=[35,79,67,77],I=[7,82,56,66],N=[7,82,49,59],T=[7,87,33,43],q=x;exports.BASE_COLOR=q;var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"spark";return a.make({type:E,phase:e,direction:(0,i.pickRand)([1,-1]),color:(0,i.pickRand)([x,P,I,N,T])})};exports.make=_;var R=function(t){var a,u,c=h(t.neighbors1);try{for(c.s();!(u=c.n()).done;){var f=l(u.value,2),s=f[0],p=f[1];if((0,i.chance)(g)&&(t.is(s,p,r.NAME)||t.is(s,p,n.NAME)||t.is(s,p,o.NAME))){a=[s,p];break}}}catch(d){c.e(d)}finally{c.f()}a&&(t.set.apply(t,y(a).concat([_("blaze")])),t.set(0,0,(0,e.empty)()))},Y=function(e,t){var a,u,c=h(e.neighbors2);try{for(c.s();!(u=c.n()).done;){var f=l(u.value,2),s=f[0],p=f[1];if((0,i.chance)(t)&&(e.is(s,p,r.NAME)||e.is(s,p,n.NAME)||e.is(s,p,o.NAME))){a=[s,p];break}}}catch(d){c.e(d)}finally{c.f()}a&&e.set.apply(e,y(a).concat([_("blaze")]))},z=function(r,n){switch(n.phase){case"spark":(0,i.chance)(M)&&r.set(0,0,(0,e.empty)()),(0,i.chance)(k)&&r.is(0,-1,e.EMPTY)?r.move(0,-1):r.is(n.direction,-1,e.EMPTY)&&r.move(n.direction,-1),(0,i.chance)(w)&&r.is(n.direction,0,e.EMPTY)?r.move(n.direction,0):n.direction*=-1,R(r);break;case"blaze":if(Y(r,O),(0,i.chance)(S))return void r.set(0,0,t.make());r.is(0,-1,e.EMPTY)&&((0,i.chance)(j)?r.set(0,-1,_()):(0,i.chance)(.05)&&r.set(0,-1,t.make()));var o,a=!0,u=h(r.neighbors1);try{for(u.s();!(o=u.n()).done;){var c=l(o.value,2),f=c[0],s=c[1];if(!r.is(f,s,e.EMPTY)){a=!1;break}}}catch(p){u.e(p)}finally{u.f()}a&&r.set(0,0,(0,e.empty)())}};exports.update=z;
},{"./empty":"zoZo","./wood":"PE4O","./smoke":"oy6B","./oil":"xw16","./plant":"jGsd","../element":"yFRv","../random":"sZVm"}],"g4jq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BASE_COLOR=exports.update=exports.make=exports.NAME=void 0;var e=require("./empty"),r=a(require("../element")),t=a(require("./fire")),o=a(require("./oil")),i=require("../random");function n(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(n=function(e){return e?t:r})(e)}function a(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n(r);if(t&&t.has(e))return t.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var c=i?Object.getOwnPropertyDescriptor(e,a):null;c&&(c.get||c.set)?Object.defineProperty(o,a,c):o[a]=e[a]}return o.default=e,t&&t.set(e,o),o}var c=[216,65,60,50];exports.BASE_COLOR=c;var s="WATER";exports.NAME=s;var p=function(){return r.make({type:s,slimey:!1,direction:(0,i.pickRand)([1,-1]),color:c})};exports.make=p;var u=function(n,a){switch(n.get(0,1).type){case t.NAME:case e.EMPTY:n.move(0,1);break;case o.NAME:n.swap(0,1);break;case s:n.is(a.direction,1,e.EMPTY)&&n.move(a.direction,1)}n.is(a.direction,0,e.EMPTY)||n.is(a.direction,0,t.NAME)?n.move(a.direction,0):a.direction*=-1,(0,i.chance)(.005)&&r.refreshColor(a),a.slimey&&(r.setColor([163,79,79,75],a),a.slimey=!1)};exports.update=u;
},{"./empty":"zoZo","../element":"yFRv","./fire":"sIHW","./oil":"xw16","../random":"sZVm"}],"bU6d":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BASE_COLOR=exports.update=exports.make=exports.NAME=void 0;var e=require("./empty"),r=p(require("./water")),t=p(require("./oil")),o=p(require("../element")),a=require("../random");function n(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(n=function(e){return e?t:r})(e)}function p(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n(r);if(t&&t.has(e))return t.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in e)if("default"!==p&&Object.prototype.hasOwnProperty.call(e,p)){var u=a?Object.getOwnPropertyDescriptor(e,p):null;u&&(u.get||u.set)?Object.defineProperty(o,p,u):o[p]=e[p]}return o.default=e,t&&t.set(e,o),o}var u=[46,78,75,50];exports.BASE_COLOR=u;var i="SAND";exports.NAME=i;var s=function(){return o.make({type:i,color:u})};exports.make=s;var c=function(o){var n=o.get(0,1),p=(0,a.pickRand)([1,-1]);switch(n.type){case e.EMPTY:o.move(0,1);break;case t.NAME:case r.NAME:o.swap(0,1);break;case i:o.is(p,1,e.EMPTY)&&o.move(p,1)}};exports.update=c;
},{"./empty":"zoZo","./water":"g4jq","./oil":"xw16","../element":"yFRv","../random":"sZVm"}],"djEU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BASE_COLOR=exports.make=exports.NAME=void 0;var e=t(require("../element"));function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function t(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var p=a?Object.getOwnPropertyDescriptor(e,u):null;p&&(p.get||p.set)?Object.defineProperty(o,u,p):o[u]=e[u]}return o.default=e,n&&n.set(e,o),o}var n=[0,0,60,40];exports.BASE_COLOR=n;var o="STONE";exports.NAME=o;var a=function(){return e.make({type:o,color:n})};exports.make=a;
},{"../element":"yFRv"}],"s4U8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BASE_COLOR=exports.update=exports.make=exports.NAME=void 0;var e=require("./empty"),r=i(require("./water")),t=i(require("./oil")),n=i(require("../element")),o=require("../random");function a(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(a=function(e){return e?t:r})(e)}function i(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a(r);if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(n,i,u):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function u(e){return l(e)||f(e)||s(e)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function l(e){if(Array.isArray(e))return y(e)}function p(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=s(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){u=!0,a=e},f:function(){try{i||null==t.return||t.return()}finally{if(u)throw a}}}}function s(e,r){if(e){if("string"==typeof e)return y(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?y(e,r):void 0}}function y(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var d=[130,79,84,80];exports.BASE_COLOR=d;var v="SLIME";exports.NAME=v;var m=function(){return n.make({type:v,drip:[],direction:(0,o.pickRand)([1,-1]),color:[130,79,84,80]})};exports.make=m;var b=function(n,a){var i,c=n.get(0,1),f=(0,o.pickRand)([1,-1]),l=0,s=p(n.neighbors1);try{for(s.s();!(i=s.n()).done;){var y=i.value,d=n.get.apply(n,u(y));if(d.type===r.NAME&&(0,o.chance)(.01))return d.slimey=!0,void n.set(0,0,(0,e.empty)());d.type!==e.EMPTY&&l++}}catch(b){s.e(b)}finally{s.f()}var m=(0,o.chance)((5-l)/5);switch(c.type){case e.EMPTY:m&&n.move(0,1);break;case t.NAME:n.swap(0,1);break;case r.NAME:(0,o.chance)(.05)?n.set(0,0,(0,e.empty)()):n.swap(0,1);break;case v:m&&n.is(f,1,e.EMPTY)&&n.move(f,1)}n.is(a.direction,0,e.EMPTY)?m&&n.move(a.direction,0):a.direction*=-1};exports.update=b;
},{"./empty":"zoZo","./water":"g4jq","./oil":"xw16","../element":"yFRv","../random":"sZVm"}],"qtLY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BASE_COLOR=exports.update=exports.make=exports.NAME=void 0;var e=require("./empty"),r=c(require("../element")),t=require("../random"),n=c(require("./fire")),o=c(require("./water")),a=c(require("./stone")),i=c(require("./smoke"));function u(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(u=function(e){return e?t:r})(e)}function c(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u(r);if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}function l(e,r){return p(e)||s(e,r)||d(e,r)||f()}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a=[],i=!0,u=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(c){u=!0,o=c}finally{try{i||null==t.return||t.return()}finally{if(u)throw o}}return a}}function p(e){if(Array.isArray(e))return e}function y(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=d(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){u=!0,a=e},f:function(){try{i||null==t.return||t.return()}finally{if(u)throw a}}}}function d(e,r){if(e){if("string"==typeof e)return m(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?m(e,r):void 0}}function m(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var v=[20,64,55,50];exports.BASE_COLOR=v;var b="LAVA";exports.NAME=b;var h=function(){return r.make({type:b,direction:(0,t.pickRand)([1,-1]),color:v})};exports.make=h;var g=function(u,c){switch(u.get(0,1).type){case e.EMPTY:u.move(0,1);break;case b:u.is(c.direction,1,e.EMPTY)&&u.move(c.direction,1)}(0,t.chance)(.5)&&u.is(c.direction,0,e.EMPTY)?u.move(c.direction,0):c.direction*=-1,(0,t.chance)(.005)&&u.is(0,-1,e.EMPTY)&&u.set(0,-1,n.make());var f,s=y(u.neighbors1);try{for(s.s();!(f=s.n()).done;){var p=l(f.value,2),d=p[0],m=p[1],v=u.get(d,m);v.flammable?u.set(d,m,n.make("blaze")):v.type===o.NAME&&(u.set(0,0,a.make()),u.set(d,m,i.make()))}}catch(h){s.e(h)}finally{s.f()}(0,t.chance)(.005)&&r.refreshColor(c)};exports.update=g;
},{"./empty":"zoZo","../element":"yFRv","../random":"sZVm","./fire":"sIHW","./water":"g4jq","./stone":"djEU","./smoke":"oy6B"}],"gMZe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.activeElements=void 0;var e,r=d(require("./sand")),t=d(require("./stone")),n=d(require("./empty")),i=d(require("./water")),o=d(require("./smoke")),u=d(require("./wood")),a=d(require("./fire")),l=d(require("./oil")),f=d(require("./plant")),p=d(require("./slime")),s=d(require("./lava"));function c(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(c=function(e){return e?t:r})(e)}function d(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c(r);if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=i?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(n,o,u):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function v(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var y=(v(e={},r.NAME,r),v(e,i.NAME,i),v(e,o.NAME,o),v(e,a.NAME,a),v(e,l.NAME,l),v(e,f.NAME,f),v(e,p.NAME,p),v(e,s.NAME,s),e);exports.activeElements=y;var M={sand:r,stone:t,empty:n,water:i,smoke:o,wood:u,fire:a,oil:l,plant:f,slime:p,lava:s};exports.default=M;
},{"./sand":"bU6d","./stone":"djEU","./empty":"zoZo","./water":"g4jq","./smoke":"oy6B","./wood":"PE4O","./fire":"sIHW","./oil":"xw16","./plant":"jGsd","./slime":"s4U8","./lava":"qtLY"}],"JmUg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getCirularNeighbors=exports.getActive=exports.update=exports.draw=exports.refreshUpperBound=exports.getUpperBound=exports.init=void 0;var r=require("./elements/empty"),t=require("./elements");function e(r,t){return a(r)||u(r,t)||o(r,t)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(r,t){if(r){if("string"==typeof r)return i(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?i(r,t):void 0}}function i(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function u(r,t){var e=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=e){var n,o,i=[],u=!0,a=!1;try{for(e=e.call(r);!(u=(n=e.next()).done)&&(i.push(n.value),!t||i.length!==t);u=!0);}catch(c){a=!0,o=c}finally{try{u||null==e.return||e.return()}finally{if(a)throw o}}return i}}function a(r){if(Array.isArray(r))return r}var c,l,f,p=[],s=0,v={},y={type:"BOUNDS"},d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;c=1,l=f={x:0,y:t},s=t,p=Array.from({length:s*s},function(){return(0,r.empty)()})};exports.init=d;var g=function(r,t){return r<0||t<0||r>=s||t>=s?y:p[M(r,t)]},h=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,r.empty)(),o=M(t,e);n.clock=c+1,p[o]=n,e<l.y&&(l={x:t,y:e})},x=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Array.from({length:r},function(r,t){var e=t+1;return[[-1*e,-1*e],[-1*e,0],[-1*e,1*e],[0,-1*e],[0,1*e],[1*e,-1*e],[1*e,0],[1*e,1*e]]}).flat()},m=x(1),b=x(2),A=function(t,e){return{is:function(r,n,o){return g(t+r,e+n).type===o},move:function(n,o){var i=g(t,e);i.clock>c||(h(t+n,e+o,i),h(t,e,(0,r.empty)()))},swap:function(r,n){var o=g(t,e);if(!(o.clock>c)){var i=t+r,u=e+n,a=g(i,u);h(i,u,o),h(t,e,a)}},set:function(r,n,o){return h(t+r,e+n,o)},get:function(r,n){return g(t+r,e+n)},neighbors1:m,neighbors2:b}},w={},E=A(0,0),M=function(r,t){return r*s+t},S=function(r){var t=w[r];if(void 0!==t)return t;var e=r%s,n=(r-e)/s;return w[r]=[n,e]},U=function(t,e,n){if(!(t<0||e<0||t>=s||e>=s)&&(n.type===r.EMPTY||E.is(t,e,r.EMPTY))){var o=M(t,e);n.clock=c,p[o]=n,e<l.y&&(l={x:t,y:e})}};exports.draw=U;var B=function(){v={};for(var n=0,o=p.length;n<o;n++){var i=e(S(n),2),u=i[0],a=i[1],l=p[n];if(l.type!==r.EMPTY){var f=v[l.color];void 0!==f?f.push({x:u,y:a,cell:l}):v[l.color]=[{x:u,y:a,cell:l}]}var s=t.activeElements[l.type];void 0!==s&&s.update(A(u,a),l)}c++};exports.update=B;var P=function(){return l.y};exports.getUpperBound=P;var T=function(){E.is(l.x,l.y,r.EMPTY)&&(l=f)};exports.refreshUpperBound=T;var j=function(){return v};exports.getActive=j;var k=function(r,t){for(var n=e(t,2),o=n[0],i=n[1],u=[],a=o-r;a<=o;a++)for(var c=i-r;c<=i;c++)if((a-o)*(a-o)+(c-i)*(c-i)<=r*r){var l=o-(a-o),f=i-(c-i);u.push([a,c],[a,f],[l,c],[l,f])}return u};exports.getCirularNeighbors=k;
},{"./elements/empty":"zoZo","./elements":"gMZe"}],"Dryx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.cellSize=exports.draw=exports.init=void 0;var e=600,t=600,l=5;exports.cellSize=l;var r,i=5,a=function(){var l=document.createElement("canvas");r=l.getContext("2d",{alpha:!1});var i=window.devicePixelRatio||1;return l.width=e*i,l.height=t*i,l.style.width="".concat(e,"px"),l.style.height="".concat(t,"px"),document.querySelector("#canvas-target").prepend(l),r.scale(i,i),r.fillStyle="white",r.fillRect(0,0,e,t),l};exports.init=a;var o=function(a){var o=a.getUpperBound()*l-i;r.fillStyle="white",r.fillRect(0,o,e,t-o),window.DEBUG&&(r.fillStyle="red",r.fillRect(0,o,e,1));var c=a.getActive();for(var n in c){r.fillStyle=n;for(var d=c[n],v=d.length;v--;){var p=d[v],s=p.x,f=p.y;r.fillRect(s*l,f*l,l,l)}}};exports.draw=o;
},{}],"epB2":[function(require,module,exports) {
"use strict";var e=a(require("./sandpit")),t=a(require("./canvas")),n=r(require("./elements"));function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=a?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(r,i,c):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}function i(e){return u(e)||l(e)||f(e)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function u(e){if(Array.isArray(e))return y(e)}function d(e,t){return p(e)||m(e,t)||f(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}}function p(e){if(Array.isArray(e))return e}window.DEBUG=!1;var v,b,w,E,h,L=60,g=function(){e.update(),t.draw(e)},A=function e(){requestAnimationFrame(e),v=Date.now(),(b=v-w)>E&&(w=v-b%E,g())},S=function(){E=1e3/L,w=Date.now(),A()},O=n.default.sand,C=document.querySelector(".elements");Object.values(n.default).forEach(function(e){var t=document.createElement("button"),r=d(e.BASE_COLOR||[],3),o=r[0],a=r[1],i=r[2];e.NAME===n.default.sand.NAME&&(h=t,t.classList.add("element-selected")),t.textContent=e.NAME.toLowerCase(),t.classList.add(e.NAME.toLowerCase()+"-btn"),t.classList.add("element-btn"),t.style.background="hsl(".concat(o,"deg ").concat(a,"% ").concat(i,"%)"),t.addEventListener("click",function(){return h.classList.remove("element-selected"),t.classList.add("element-selected"),h=t,O=e}),C.appendChild(t)});var j,k=[1,4,8,12],M=document.querySelector(".tools"),q=1;k.forEach(function(e){var t=document.createElement("button");t.classList.add("tool-btn"),q===e&&(j=t,t.classList.add("tool-selected")),t.textContent=e,t.addEventListener("click",function(){return j.classList.remove("tool-selected"),t.classList.add("tool-selected"),j=t,q=e}),M.appendChild(t)});var D=document.createElement("button");D.classList.add("tool-btn"),D.classList.add("reset-btn"),D.textContent="RESET",D.addEventListener("click",function(){window.location.reload()}),M.appendChild(D);var x=document.querySelector("#tick");x.addEventListener("click",g),window.DEBUG||x.classList.add("hidden");var B=t.init(),I=B.getBoundingClientRect(),N=!1,P=function(e){return Math.floor(e/t.cellSize)},U=function(t){var n=P(t.x-I.x),r=P(t.y-I.y);return e.getCirularNeighbors(q,[n,r])},_=function(t){U(t).forEach(function(t){return e.draw.apply(e,i(t).concat([O.make()]))})};B.addEventListener("mousemove",function(e){N&&_(e)}),B.addEventListener("click",_),B.addEventListener("mousedown",function(){N=!0}),B.addEventListener("mouseup",function(){N=!1,e.refreshUpperBound()}),e.init(120),window.DEBUG||S();
},{"./sandpit":"JmUg","./canvas":"Dryx","./elements":"gMZe"}]},{},["epB2"], null)
//# sourceMappingURL=main.ade20646.js.map