parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"zoZo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NAME=exports.make=exports.empty=exports.EMPTY=void 0;var e="EMPTY";exports.EMPTY=e;var r=e;exports.NAME=r;var t={type:e,clock:0},o=function(){return t};exports.empty=o;var p=o;exports.make=p;
},{}],"sZVm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.chance=exports.pickRand=exports.randInt=exports.rand=void 0;var r=function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.random()*(r-n)+n};exports.rand=r;var n=function(){return Math.round(r.apply(void 0,arguments))};exports.randInt=n;var t=function(r){return r[n(r.length-1,0)]};exports.pickRand=t;var e=function(r){return Math.random()<r};exports.chance=e;
},{}],"yFRv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setColor=exports.refreshColor=exports.make=void 0;var e=require("./random"),r=["type","color"];function t(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function o(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?t(Object(o),!0).forEach(function(r){n(e,r,o[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(o,r))})}return e}function n(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function c(e,r){if(null==e)return{};var t,o,n=l(e,r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(o=0;o<c.length;o++)t=c[o],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function l(e,r){if(null==e)return{};var t,o,n={},c=Object.keys(e);for(o=0;o<c.length;o++)t=c[o],r.indexOf(t)>=0||(n[t]=e[t]);return n}var u=function(e){var t=e.type,n=e.color,l=c(e,r);return o({type:t,clock:0,colorInput:n,color:p(n)},l)};exports.make=u;var p=function(r){return"hsl(".concat(r[0],"deg ").concat(r[1],"% ").concat((0,e.randInt)(r[2],r[3]),"%)")},i=function(e,r){r.color=p(e)};exports.setColor=i;var f=function(e){e.color=p(e.colorInput)};exports.refreshColor=f;
},{"./random":"sZVm"}],"xw16":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BASE_COLOR=exports.update=exports.make=exports.NAME=void 0;var e=require("./empty"),r=a(require("../element")),t=a(require("./fire")),i=a(require("./water")),o=require("../random");function n(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(n=function(e){return e?t:r})(e)}function a(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n(r);if(t&&t.has(e))return t.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var c=o?Object.getOwnPropertyDescriptor(e,a):null;c&&(c.get||c.set)?Object.defineProperty(i,a,c):i[a]=e[a]}return i.default=e,t&&t.set(e,i),i}var c=[25,59,31,45];exports.BASE_COLOR=c;var p="OIL";exports.NAME=p;var u=function(){return r.make({type:p,flammable:!0,direction:(0,o.pickRand)([1,-1]),color:c})};exports.make=u;var s=function(n,a){switch(n.get(0,1).type){case t.NAME:case e.EMPTY:n.move(0,1);break;case p:n.is(a.direction,1,e.EMPTY)&&n.move(a.direction,1);break;case i.NAME:n.is(a.direction,-1,i.NAME)&&n.swap(a.direction,-1)}n.is(a.direction,0,e.EMPTY)?n.move(a.direction,0):(0,o.chance)(.5)&&n.is(a.direction,0,i.NAME)?n.swap(a.direction,0):a.direction*=-1,(0,o.chance)(.005)&&r.refreshColor(a)};exports.update=s;
},{"./empty":"zoZo","../element":"yFRv","./fire":"sIHW","./water":"g4jq","../random":"sZVm"}],"s4U8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BASE_COLOR=exports.update=exports.make=exports.NAME=void 0;var e=require("./empty"),r=i(require("./water")),t=i(require("./oil")),n=i(require("../element")),o=require("../random");function a(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(a=function(e){return e?t:r})(e)}function i(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a(r);if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(n,i,u):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function u(e){return l(e)||f(e)||s(e)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function l(e){if(Array.isArray(e))return y(e)}function p(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=s(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){u=!0,a=e},f:function(){try{i||null==t.return||t.return()}finally{if(u)throw a}}}}function s(e,r){if(e){if("string"==typeof e)return y(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?y(e,r):void 0}}function y(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var d=[130,79,84,80];exports.BASE_COLOR=d;var v="SLIME";exports.NAME=v;var m=function(){return n.make({type:v,drip:[],direction:(0,o.pickRand)([1,-1]),color:[130,79,84,80]})};exports.make=m;var b=function(n,a){var i,c=n.get(0,1),f=(0,o.pickRand)([1,-1]),l=0,s=p(n.neighbors1);try{for(s.s();!(i=s.n()).done;){var y=i.value,d=n.get.apply(n,u(y));if(d.type===r.NAME&&(0,o.chance)(.01))return d.slimey=!0,void n.set(0,0,(0,e.empty)());d.type!==e.EMPTY&&l++}}catch(b){s.e(b)}finally{s.f()}var m=(0,o.chance)((5-l)/5);switch(c.type){case e.EMPTY:m&&n.move(0,1);break;case t.NAME:n.swap(0,1);break;case r.NAME:(0,o.chance)(.05)?n.set(0,0,(0,e.empty)()):n.swap(0,1);break;case v:m&&n.is(f,1,e.EMPTY)&&n.move(f,1)}n.is(a.direction,0,e.EMPTY)?m&&n.move(a.direction,0):a.direction*=-1};exports.update=b;
},{"./empty":"zoZo","./water":"g4jq","./oil":"xw16","../element":"yFRv","../random":"sZVm"}],"djEU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BASE_COLOR=exports.make=exports.NAME=void 0;var e=t(require("../element"));function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function t(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var p=a?Object.getOwnPropertyDescriptor(e,u):null;p&&(p.get||p.set)?Object.defineProperty(o,u,p):o[u]=e[u]}return o.default=e,n&&n.set(e,o),o}var n=[0,0,60,40];exports.BASE_COLOR=n;var o="STONE";exports.NAME=o;var a=function(){return e.make({type:o,color:n})};exports.make=a;
},{"../element":"yFRv"}],"qtLY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BASE_COLOR=exports.update=exports.make=exports.NAME=void 0;var e=require("./empty"),r=c(require("../element")),t=require("../random"),n=c(require("./fire")),o=c(require("./water")),a=c(require("./stone")),i=c(require("./smoke"));function u(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(u=function(e){return e?t:r})(e)}function c(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u(r);if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}function l(e,r){return p(e)||s(e,r)||d(e,r)||f()}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a=[],i=!0,u=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(c){u=!0,o=c}finally{try{i||null==t.return||t.return()}finally{if(u)throw o}}return a}}function p(e){if(Array.isArray(e))return e}function y(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=d(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){u=!0,a=e},f:function(){try{i||null==t.return||t.return()}finally{if(u)throw a}}}}function d(e,r){if(e){if("string"==typeof e)return m(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?m(e,r):void 0}}function m(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var v=[20,64,55,45];exports.BASE_COLOR=v;var b="LAVA";exports.NAME=b;var h=function(){return r.make({type:b,direction:(0,t.pickRand)([1,-1]),color:v})};exports.make=h;var g=function(u,c){switch(u.get(0,1).type){case e.EMPTY:u.move(0,1);break;case b:u.is(c.direction,1,e.EMPTY)&&u.move(c.direction,1)}(0,t.chance)(.5)&&u.is(c.direction,0,e.EMPTY)?u.move(c.direction,0):c.direction*=-1,(0,t.chance)(.005)&&u.is(0,-1,e.EMPTY)&&u.set(0,-1,n.make());var f,s=y(u.neighbors1);try{for(s.s();!(f=s.n()).done;){var p=l(f.value,2),d=p[0],m=p[1],v=u.get(d,m);v.flammable?u.set(d,m,n.make("blaze")):v.type===o.NAME&&(u.set(0,0,a.make()),u.set(d,m,i.make()))}}catch(h){s.e(h)}finally{s.f()}(0,t.chance)(.005)&&r.refreshColor(c)};exports.update=g;
},{"./empty":"zoZo","../element":"yFRv","../random":"sZVm","./fire":"sIHW","./water":"g4jq","./stone":"djEU","./smoke":"oy6B"}],"DA5b":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BASE_COLOR=exports.update=exports.make=exports.NAME=void 0;var e=require("./empty"),r=i(require("./water")),t=i(require("./oil")),a=i(require("../element")),o=require("../random");function n(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(n=function(e){return e?t:r})(e)}function i(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n(r);if(t&&t.has(e))return t.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(a,i,u):a[i]=e[i]}return a.default=e,t&&t.set(e,a),a}var u=[44,0,34,25];exports.BASE_COLOR=u;var p="GUNPOWDER";exports.NAME=p;var s=function(){return a.make({type:p,flammable:!0,explosive:{ratio:.1,minRadius:5,maxRadius:10},color:u})};exports.make=s;var c=function(a){var n=a.get(0,1),i=(0,o.pickRand)([1,-1]);switch(n.type){case e.EMPTY:a.move(0,1);break;case t.NAME:case r.NAME:a.swap(0,1);break;case p:a.is(i,1,e.EMPTY)&&a.move(i,1)}};exports.update=c;
},{"./empty":"zoZo","./water":"g4jq","./oil":"xw16","../element":"yFRv","../random":"sZVm"}],"oy6B":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BASE_COLOR=exports.update=exports.make=exports.NAME=void 0;var e=s(require("./water")),r=s(require("./slime")),t=s(require("./sand")),n=s(require("./oil")),o=s(require("./lava")),a=s(require("./gunpowder")),i=require("./empty"),c=s(require("../element")),u=require("../random");function p(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(p=function(e){return e?t:r})(e)}function s(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=p(r);if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}var f=[4,2,79,90];exports.BASE_COLOR=f;var d="SMOKE";exports.NAME=d;var l=.015,v=.95,M=.5,y=function(){return c.make({type:d,direction:(0,u.pickRand)([1,-1]),color:f})};exports.make=y;var E=function(c,p){var s=c.get(0,-1);switch((0,u.chance)(l)&&c.set(0,0,(0,i.empty)()),s.type){case i.EMPTY:(0,u.chance)(v)?c.move(0,-1):c.is(p.direction,1,i.EMPTY)&&c.move(p.direction,-1);break;case a.NAME:case o.NAME:case n.NAME:case t.NAME:case r.NAME:case e.NAME:c.swap(0,-1)}(0,u.chance)(M)&&c.is(p.direction,0,i.EMPTY)?c.move(p.direction,0):p.direction*=-1};exports.update=E;
},{"./water":"g4jq","./slime":"s4U8","./sand":"bU6d","./oil":"xw16","./lava":"qtLY","./gunpowder":"DA5b","./empty":"zoZo","../element":"yFRv","../random":"sZVm"}],"sIHW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BASE_COLOR=exports.update=exports.make=exports.NAME=void 0;var e=require("./empty"),r=o(require("./smoke")),t=o(require("../element")),n=require("../random");function a(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(a=function(e){return e?t:r})(e)}function o(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a(r);if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=o?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(n,i,c):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function i(e,r){return u(e)||l(e,r)||v(e,r)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,o=[],i=!0,c=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(o.push(n.value),!r||o.length!==r);i=!0);}catch(l){c=!0,a=l}finally{try{i||null==t.return||t.return()}finally{if(c)throw a}}return o}}function u(e){if(Array.isArray(e))return e}function f(e){return y(e)||p(e)||v(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function y(e){if(Array.isArray(e))return b(e)}function d(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=v(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(c)throw o}}}}function v(e,r){if(e){if("string"==typeof e)return b(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?b(e,r):void 0}}function b(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var m="FIRE";exports.NAME=m;var h=.2,g=.73,k=.75,w=1,x=.01,O=.01,A=.06,S=[35,76,62,72],E=[35,79,67,77],M=[7,82,56,66],j=[7,82,49,59],P=[7,87,33,43],I=S;exports.BASE_COLOR=I;var T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"spark";return t.make({type:m,phase:e,direction:(0,n.pickRand)([1,-1]),color:(0,n.pickRand)([S,E,M,j,P])})};exports.make=T;var R=function(r){var t,a,o=d(r.neighbors1);try{for(o.s();!(a=o.n()).done;){var c=i(a.value,2),l=c[0],u=c[1];if((0,n.chance)(w)&&r.get(l,u).flammable){t=[l,u];break}}}catch(s){o.e(s)}finally{o.f()}t&&(r.set.apply(r,f(t).concat([T("blaze")])),r.set(0,0,(0,e.empty)()))},_=function(e,t){var a,o,c=d(e.neighbors2);try{for(c.s();!(o=c.n()).done;){var l=i(o.value,2),u=l[0],s=l[1];if((0,n.chance)(t)&&e.get(u,s).flammable){a=[u,s];break}}}catch(k){c.e(k)}finally{c.f()}if(a){var p=e.get.apply(e,f(a));if(p.explosive&&(0,n.chance)(p.explosive.ratio)){var y,v=(0,n.randInt)(p.explosive.minRadius,p.explosive.maxRadius),b=d(e.getCircularNeighbors.apply(e,[v].concat(f(a))));try{for(b.s();!(y=b.n()).done;){var m=i(y.value,2),h=m[0],g=m[1];"BOUNDS"!==e.absoluteGet(h,g).type&&e.absoluteSet(h,g,(0,n.chance)(.5)?T("spark"):r.make())}}catch(k){b.e(k)}finally{b.f()}}else e.set.apply(e,f(a).concat([T("blaze")]))}},Y=function(t,a){switch(a.phase){case"spark":(0,n.chance)(h)&&t.set(0,0,(0,e.empty)()),(0,n.chance)(g)&&t.is(0,-1,e.EMPTY)?t.move(0,-1):t.is(a.direction,-1,e.EMPTY)&&t.move(a.direction,-1),(0,n.chance)(k)&&t.is(a.direction,0,e.EMPTY)?t.move(a.direction,0):a.direction*=-1,R(t);break;case"blaze":if(_(t,x),(0,n.chance)(O))return void t.set(0,0,r.make());t.is(0,-1,e.EMPTY)&&((0,n.chance)(A)?t.set(0,-1,T()):(0,n.chance)(.05)&&t.set(0,-1,r.make()));var o,c=!0,l=d(t.neighbors1);try{for(l.s();!(o=l.n()).done;){var u=i(o.value,2),f=u[0],s=u[1];if(!t.is(f,s,e.EMPTY)){c=!1;break}}}catch(p){l.e(p)}finally{l.f()}c&&t.set(0,0,(0,e.empty)())}};exports.update=Y;
},{"./empty":"zoZo","./smoke":"oy6B","../element":"yFRv","../random":"sZVm"}],"g4jq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BASE_COLOR=exports.update=exports.make=exports.NAME=void 0;var e=require("./empty"),r=a(require("../element")),t=a(require("./fire")),o=a(require("./oil")),i=require("../random");function n(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(n=function(e){return e?t:r})(e)}function a(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n(r);if(t&&t.has(e))return t.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var c=i?Object.getOwnPropertyDescriptor(e,a):null;c&&(c.get||c.set)?Object.defineProperty(o,a,c):o[a]=e[a]}return o.default=e,t&&t.set(e,o),o}var c=[216,65,60,50];exports.BASE_COLOR=c;var s="WATER";exports.NAME=s;var p=function(){return r.make({type:s,slimey:!1,direction:(0,i.pickRand)([1,-1]),color:c})};exports.make=p;var u=function(n,a){switch(n.get(0,1).type){case t.NAME:case e.EMPTY:n.move(0,1);break;case o.NAME:n.swap(0,1);break;case s:n.is(a.direction,1,e.EMPTY)&&n.move(a.direction,1)}n.is(a.direction,0,e.EMPTY)||n.is(a.direction,0,t.NAME)?n.move(a.direction,0):a.direction*=-1,(0,i.chance)(.005)&&r.refreshColor(a),a.slimey&&(r.setColor([163,79,79,75],a),a.slimey=!1)};exports.update=u;
},{"./empty":"zoZo","../element":"yFRv","./fire":"sIHW","./oil":"xw16","../random":"sZVm"}],"bU6d":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BASE_COLOR=exports.update=exports.make=exports.NAME=void 0;var e=require("./empty"),r=p(require("./water")),t=p(require("./oil")),o=p(require("../element")),a=require("../random");function n(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(n=function(e){return e?t:r})(e)}function p(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n(r);if(t&&t.has(e))return t.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in e)if("default"!==p&&Object.prototype.hasOwnProperty.call(e,p)){var u=a?Object.getOwnPropertyDescriptor(e,p):null;u&&(u.get||u.set)?Object.defineProperty(o,p,u):o[p]=e[p]}return o.default=e,t&&t.set(e,o),o}var u=[46,78,75,50];exports.BASE_COLOR=u;var i="SAND";exports.NAME=i;var s=function(){return o.make({type:i,color:u})};exports.make=s;var c=function(o){var n=o.get(0,1),p=(0,a.pickRand)([1,-1]);switch(n.type){case e.EMPTY:o.move(0,1);break;case t.NAME:case r.NAME:o.swap(0,1);break;case i:o.is(p,1,e.EMPTY)&&o.move(p,1)}};exports.update=c;
},{"./empty":"zoZo","./water":"g4jq","./oil":"xw16","../element":"yFRv","../random":"sZVm"}],"PE4O":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BASE_COLOR=exports.make=exports.NAME=void 0;var e=t(require("../element"));function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function t(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var p=a?Object.getOwnPropertyDescriptor(e,u):null;p&&(p.get||p.set)?Object.defineProperty(o,u,p):o[u]=e[u]}return o.default=e,n&&n.set(e,o),o}var n=[33,41,30,15];exports.BASE_COLOR=n;var o="WOOD";exports.NAME=o;var a=function(){return e.make({type:o,flammable:!0,color:n})};exports.make=a;
},{"../element":"yFRv"}],"jGsd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BASE_COLOR=exports.update=exports.make=exports.NAME=void 0;var e=require("./empty"),r=a(require("./water")),t=a(require("../element")),n=require("../random");function o(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(o=function(e){return e?t:r})(e)}function a(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o(r);if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(n,i,u):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function i(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=f(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){u=!0,a=e},f:function(){try{i||null==t.return||t.return()}finally{if(u)throw a}}}}function u(e,r){return p(e)||y(e,r)||f(e,r)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,r){if(e){if("string"==typeof e)return c(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(e,r):void 0}}function c(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function y(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a=[],i=!0,u=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(l){u=!0,o=l}finally{try{i||null==t.return||t.return()}finally{if(u)throw o}}return a}}function p(e){if(Array.isArray(e))return e}var s=[122,73,36,25];exports.BASE_COLOR=s;var d="PLANT";exports.NAME=d;var v=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,o=(0,n.chance)(.1);return t.make({type:d,kind:o?"stem":"bud",flammable:!0,energy:void 0!==e?e:o?(0,n.randInt)(10,15):(0,n.randInt)(1,5),direction:[(0,n.pickRand)([1,0,-1]),-1],color:r})};exports.make=v;var b=function(t,o){var a=u(o.direction,2),l=a[0],f=a[1],c=t.get(l,f);(c.type===e.EMPTY||c.type===r.NAME)&&(0,n.chance)(.2)&&o.energy>0&&(o.energy--,t.set(l,f,v(o.energy)));var y,p=i(t.neighbors1);try{for(p.s();!(y=p.n()).done;){var s=u(y.value,2),d=s[0],b=s[1];(0,n.chance)(.05)&&t.is(d,b,r.NAME)&&(t.set(d,b,(0,e.empty)()),t.set(l,f,v(o.energy)))}}catch(m){p.e(m)}finally{p.f()}};exports.update=b;
},{"./empty":"zoZo","./water":"g4jq","../element":"yFRv","../random":"sZVm"}],"sxAi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BASE_COLOR=exports.update=exports.make=exports.NAME=void 0;var e=require("./empty"),r=c(require("./plant")),t=c(require("./water")),n=c(require("../element")),i=require("../random");function o(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(o=function(e){return e?t:r})(e)}function c(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o(r);if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if("default"!==c&&Object.prototype.hasOwnProperty.call(e,c)){var a=i?Object.getOwnPropertyDescriptor(e,c):null;a&&(a.get||a.set)?Object.defineProperty(n,c,a):n[c]=e[c]}return n.default=e,t&&t.set(e,n),n}function a(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=f(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return c=e.done,e},e:function(e){a=!0,o=e},f:function(){try{c||null==t.return||t.return()}finally{if(a)throw o}}}}function u(e,r){return m(e)||s(e,r)||f(e,r)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,r){if(e){if("string"==typeof e)return p(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?p(e,r):void 0}}function p(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function s(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,i,o=[],c=!0,a=!1;try{for(t=t.call(e);!(c=(n=t.next()).done)&&(o.push(n.value),!r||o.length!==r);c=!0);}catch(u){a=!0,i=u}finally{try{c||null==t.return||t.return()}finally{if(a)throw i}}return o}}function m(e){if(Array.isArray(e))return e}var d=[277,59,50,20];exports.BASE_COLOR=d;var y="BUG";exports.NAME=y;var v=.02,b=function(){var e=u((0,i.pickRand)([["climber",d],["jumper",[277,62,66,60]],["flyer",[277,33,36,30]]]),2),r=e[0],t=e[1];return n.make({type:y,species:r,flammable:!0,jumpDirection:0,climbing:!1,direction:(0,i.pickRand)([1,-1]),color:t})};exports.make=b;var h=function(n,o){switch(o.species){case"climber":g(n,o);break;case"jumper":j(n,o);break;case"flyer":k(n,o)}var c,l=a(n.neighbors1);try{for(l.s();!(c=l.n()).done;){var f=u(c.value,2),p=f[0],s=f[1];if((0,i.chance)(.005)&&n.is(p,s,r.NAME)){n.set(p,s,(0,e.empty)());break}}}catch(m){l.e(m)}finally{l.f()}(0,i.chance)(.02)&&n.is(0,-1,t.NAME)&&((0,i.chance)(.05)?n.set(0,0,(0,e.empty)()):n.swap(0,-1))};exports.update=h;var g=function(r,t){if(t.climbing)(0,i.chance)(v)&&r.is(0,t.direction,e.EMPTY)?r.is(t.direction,t.direction,e.EMPTY)?(t.climbing=!1,r.move(t.direction,t.direction)):r.move(0,t.direction):t.direction*=-1;else{var n=r.get(0,1),o=(0,i.pickRand)([1,-1]);switch(n.type){case e.EMPTY:r.move(0,1);break;case y:r.is(o,1,e.EMPTY)&&r.move(o,1)}(0,i.chance)(v)&&(r.is(t.direction,0,e.EMPTY)?r.move(t.direction,0):(0,i.chance)(.5)&&r.is(0,t.direction,e.EMPTY)?(t.climbing=!t.climbing,t.direction=(0,i.pickRand)([1,-1])):t.direction*=-1)}},j=function(r,t){if(t.jumping)r.is(t.jumpDirection,-1,e.EMPTY)?r.move(t.jumpDirection,-1):(t.jumping=!1,t.jumpDirection=(0,i.pickRand)([1,-1])),(0,i.chance)(.1)&&(t.jumping=!1);else{var n=r.get(t.jumpDirection,1),o=(0,i.pickRand)([1,-1]);switch(n.type){case e.EMPTY:r.move(t.jumpDirection,1);break;case y:r.is(o,1,e.EMPTY)&&r.move(o,1);break;default:t.jumpDirection=0,(0,i.chance)(.05)&&(t.jumping=!0,t.jumpDirection=(0,i.pickRand)([1,0,-1]))}(0,i.chance)(v)&&(r.is(t.direction,0,e.EMPTY)?r.move(t.direction,0):t.direction*=-1)}},k=function(r,t){if(t.flyingDirection&&!(0,i.chance)(.05)){var n=u(t.flyingDirection,2),o=n[0],c=n[1];r.is(o,c,e.EMPTY)?r.move(o,c):(0,i.chance)(.005)&&(t.flyingDirection[(0,i.pickRand)([0,1])]*=-1)}else{var a=(0,i.pickRand)([1,0,-1]),l=(0,i.pickRand)(0===a?[1,-1]:[1,0,-1]);t.flyingDirection=[a,l]}};
},{"./empty":"zoZo","./plant":"jGsd","./water":"g4jq","../element":"yFRv","../random":"sZVm"}],"E1Bb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BASE_COLOR=exports.update=exports.make=exports.NAME=void 0;var e=o(require("../element")),t=require("./empty"),r=require("../random");function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(o,i,u):o[i]=e[i]}return o.default=e,r&&r.set(e,o),o}function a(e,t){return c(e)||u(e,t)||f(e,t)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,u=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(c){u=!0,o=c}finally{try{i||null==r.return||r.return()}finally{if(u)throw o}}return a}}function c(e){if(Array.isArray(e))return e}function l(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=f(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){u=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}function f(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var y=[82,82,56,47];exports.BASE_COLOR=y;var s=.01,d="ACID";exports.NAME=d;var v=function(){return e.make({type:d,direction:(0,r.pickRand)([1,-1]),color:y})};exports.make=v;var m=function(n,o){switch(n.get(0,1).type){case t.EMPTY:n.move(0,1);break;case d:n.is(o.direction,1,t.EMPTY)&&n.move(o.direction,1)}var i,u=l(n.neighbors1);try{for(u.s();!(i=u.n()).done;){var c=a(i.value,2),f=c[0],p=c[1],y=n.get(f,p);"BOUNDS"!==y.type&&y.type!==d&&y.type!=t.EMPTY&&(0,r.chance)(s)&&(n.set(f,p,(0,t.empty)()),n.set(0,0,(0,t.empty)()))}}catch(v){u.e(v)}finally{u.f()}n.is(o.direction,0,t.EMPTY)?n.move(o.direction,0):o.direction*=-1,(0,r.chance)(.005)&&e.refreshColor(o)};exports.update=m;
},{"../element":"yFRv","./empty":"zoZo","../random":"sZVm"}],"gMZe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.activeElements=void 0;var e,r=q(require("./sand")),t=q(require("./stone")),i=q(require("./empty")),u=q(require("./water")),n=q(require("./smoke")),o=q(require("./wood")),a=q(require("./fire")),l=q(require("./oil")),p=q(require("./plant")),f=q(require("./slime")),s=q(require("./lava")),c=q(require("./bug")),d=q(require("./gunpowder")),M=q(require("./acid"));function v(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(v=function(e){return e?t:r})(e)}function q(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=v(r);if(t&&t.has(e))return t.get(e);var i={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var o=u?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(i,n,o):i[n]=e[n]}return i.default=e,t&&t.set(e,i),i}function b(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var y=(b(e={},r.NAME,r),b(e,u.NAME,u),b(e,n.NAME,n),b(e,a.NAME,a),b(e,l.NAME,l),b(e,p.NAME,p),b(e,f.NAME,f),b(e,s.NAME,s),b(e,c.NAME,c),b(e,d.NAME,d),b(e,M.NAME,M),e);exports.activeElements=y;var E={sand:r,stone:t,empty:i,water:u,smoke:n,wood:o,fire:a,oil:l,plant:p,slime:f,lava:s,bug:c,gunpowder:d,acid:M};exports.default=E;
},{"./sand":"bU6d","./stone":"djEU","./empty":"zoZo","./water":"g4jq","./smoke":"oy6B","./wood":"PE4O","./fire":"sIHW","./oil":"xw16","./plant":"jGsd","./slime":"s4U8","./lava":"qtLY","./bug":"sxAi","./gunpowder":"DA5b","./acid":"E1Bb"}],"JmUg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getCircularNeighbors=exports.getActive=exports.update=exports.draw=exports.refreshUpperBound=exports.getUpperBound=exports.init=void 0;var r=require("./elements/empty"),t=require("./elements");function e(r,t){return a(r)||i(r,t)||o(r,t)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(r,t){if(r){if("string"==typeof r)return u(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?u(r,t):void 0}}function u(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function i(r,t){var e=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=e){var n,o,u=[],i=!0,a=!1;try{for(e=e.call(r);!(i=(n=e.next()).done)&&(u.push(n.value),!t||u.length!==t);i=!0);}catch(c){a=!0,o=c}finally{try{i||null==e.return||e.return()}finally{if(a)throw o}}return u}}function a(r){if(Array.isArray(r))return r}var c,l,f,s=[],p=0,v={},y={type:"BOUNDS"},d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;c=1,l=f={x:0,y:t},p=t,s=Array.from({length:p*p},function(){return(0,r.empty)()})};exports.init=d;var g=function(r,t){return r<0||t<0||r>=p||t>=p?y:s[M(r,t)]},h=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,r.empty)(),o=M(t,e);n.clock=c+1,s[o]=n,e<l.y&&(l={x:t,y:e})},x=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Array.from({length:r},function(r,t){var e=t+1;return[[-1*e,-1*e],[-1*e,0],[-1*e,1*e],[0,-1*e],[0,1*e],[1*e,-1*e],[1*e,0],[1*e,1*e]]}).flat()},m=function(r,t){for(var n=e(t,2),o=n[0],u=n[1],i=[],a=o-r;a<=o;a++)for(var c=u-r;c<=u;c++)if((a-o)*(a-o)+(c-u)*(c-u)<=r*r){var l=o-(a-o),f=u-(c-u);i.push([a,c],[a,f],[l,c],[l,f])}return i};exports.getCircularNeighbors=m;var b=x(1),A=x(2),w=function(t,e){return{is:function(r,n,o){return g(t+r,e+n).type===o},move:function(n,o){var u=g(t,e);u.clock>c||(h(t+n,e+o,u),h(t,e,(0,r.empty)()))},swap:function(r,n){var o=g(t,e);if(!(o.clock>c)){var u=t+r,i=e+n,a=g(u,i);h(u,i,o),h(t,e,a)}},set:function(r,n,o){return h(t+r,e+n,o)},absoluteSet:h,get:function(r,n){return g(t+r,e+n)},absoluteGet:g,neighbors1:b,neighbors2:A,getCircularNeighbors:function(r,n,o){return m(r,[t+n,e+o])}}},S={},E=w(0,0),M=function(r,t){return r*p+t},U=function(r){var t=S[r];if(void 0!==t)return t;var e=r%p,n=(r-e)/p;return S[r]=[n,e]},B=function(t,e,n){if(!(t<0||e<0||t>=p||e>=p)&&(n.type===r.EMPTY||E.is(t,e,r.EMPTY))){var o=M(t,e);n.clock=c,s[o]=n,e<l.y&&(l={x:t,y:e})}};exports.draw=B;var P=function(){v={};for(var n=0,o=s.length;n<o;n++){var u=e(U(n),2),i=u[0],a=u[1],l=s[n];if(l.type!==r.EMPTY){var f=v[l.color];void 0!==f?f.push({x:i,y:a,cell:l}):v[l.color]=[{x:i,y:a,cell:l}]}var p=t.activeElements[l.type];void 0!==p&&p.update(w(i,a),l)}c++};exports.update=P;var T=function(){return l.y};exports.getUpperBound=T;var j=function(){E.is(l.x,l.y,r.EMPTY)&&(l=f)};exports.refreshUpperBound=j;var k=function(){return v};exports.getActive=k;
},{"./elements/empty":"zoZo","./elements":"gMZe"}],"Dryx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.cellSize=exports.draw=exports.init=void 0;var e=600,t=600,l=5;exports.cellSize=l;var r,i=5,a=function(){var l=document.createElement("canvas");r=l.getContext("2d",{alpha:!1});var i=window.devicePixelRatio||1;return l.width=e*i,l.height=t*i,l.style.width="".concat(e,"px"),l.style.height="".concat(t,"px"),document.querySelector("#canvas-target").prepend(l),r.scale(i,i),r.fillStyle="white",r.fillRect(0,0,e,t),l};exports.init=a;var o=function(a){var o=a.getUpperBound()*l-i;r.fillStyle="white",r.fillRect(0,o,e,t-o),window.DEBUG&&(r.fillStyle="red",r.fillRect(0,o,e,1));var c=a.getActive();for(var n in c){r.fillStyle=n;for(var d=c[n],v=d.length;v--;){var p=d[v],s=p.x,f=p.y;r.fillRect(s*l,f*l,l,l)}}};exports.draw=o;
},{}],"epB2":[function(require,module,exports) {
"use strict";var e=a(require("./sandpit")),t=a(require("./canvas")),n=r(require("./elements"));function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=a?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(r,i,c):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}function i(e){return u(e)||l(e)||f(e)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function u(e){if(Array.isArray(e))return y(e)}function d(e,t){return p(e)||m(e,t)||f(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}}function p(e){if(Array.isArray(e))return e}window.DEBUG=!1;var v,b,w,E,h,L=60,g=function(){e.update(),t.draw(e)},A=function e(){requestAnimationFrame(e),v=Date.now(),(b=v-w)>E&&(w=v-b%E,g())},S=function(){E=1e3/L,w=Date.now(),A()},O=n.default.sand,C=document.querySelector(".elements");Object.values(n.default).forEach(function(e){var t=document.createElement("button"),r=d(e.BASE_COLOR||[],3),o=r[0],a=r[1],i=r[2];e.NAME===n.default.sand.NAME&&(h=t,t.classList.add("element-selected")),t.textContent=e.NAME.toLowerCase(),t.classList.add(e.NAME.toLowerCase()+"-btn"),t.classList.add("element-btn"),t.style.background="hsl(".concat(o,"deg ").concat(a,"% ").concat(i,"%)"),t.addEventListener("click",function(){return h.classList.remove("element-selected"),t.classList.add("element-selected"),h=t,O=e}),C.appendChild(t)});var j,k=[1,4,8,12],M=document.querySelector(".tools"),q=4;k.forEach(function(e){var t=document.createElement("button");t.classList.add("tool-btn"),q===e&&(j=t,t.classList.add("tool-selected")),t.textContent=e,t.addEventListener("click",function(){return j.classList.remove("tool-selected"),t.classList.add("tool-selected"),j=t,q=e}),M.appendChild(t)});var D=document.createElement("button");D.classList.add("tool-btn"),D.classList.add("reset-btn"),D.textContent="RESET",D.addEventListener("click",function(){window.location.reload()}),M.appendChild(D);var x=document.querySelector("#tick");x.addEventListener("click",g),window.DEBUG||x.classList.add("hidden");var B=t.init(),I=B.getBoundingClientRect(),N=!1,P=function(e){return Math.floor(e/t.cellSize)},U=function(t){var n=P(t.x-I.x),r=P(t.y-I.y);return e.getCircularNeighbors(q,[n,r])},_=function(t){U(t).forEach(function(t){return e.draw.apply(e,i(t).concat([O.make()]))})};B.addEventListener("mousemove",function(e){N&&_(e)}),B.addEventListener("click",_),B.addEventListener("mousedown",function(){N=!0}),B.addEventListener("mouseup",function(){N=!1,e.refreshUpperBound()}),e.init(120),window.DEBUG||S();
},{"./sandpit":"JmUg","./canvas":"Dryx","./elements":"gMZe"}]},{},["epB2"], null)
//# sourceMappingURL=main.11cdfe51.js.map